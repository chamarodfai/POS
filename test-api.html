<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ó‡∏î‡∏™‡∏≠‡∏ö POS API</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #fafafa;
        }
        
        .test-section h3 {
            color: #555;
            margin-top: 0;
        }
        
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        
        button:hover {
            background-color: #0056b3;
        }
        
        .response {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin-top: 10px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .success {
            border-color: #28a745;
            background-color: #d4edda;
        }
        
        .error {
            border-color: #dc3545;
            background-color: #f8d7da;
        }
        
        .url-display {
            background-color: #e9ecef;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            word-break: break-all;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõí ‡∏ó‡∏î‡∏™‡∏≠‡∏ö POS API</h1>
        
        <div class="url-display">
            API URL: <input type="text" id="api-url" value="https://script.google.com/macros/s/AKfycbwPY7wJe7W-VwiguoROToQk_KPSGFdISvb-kbV_DCcEp2tXB9laW0CJrCRpA2lEa4yeMg/exec" style="width: 100%; padding: 5px; margin-top: 5px;">
            <button onclick="updateAPIUrl()" style="margin-top: 5px;">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï URL</button>
        </div>
        
        <div class="test-section">
            <h3>1. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ API</h3>
            <button onclick="testAPI()">‡∏ó‡∏î‡∏™‡∏≠‡∏ö API</button>
            <button onclick="testDirectURL()">‡πÄ‡∏õ‡∏¥‡∏î URL ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á</button>
            <div id="test-response" class="response" style="display: none;"></div>
        </div>
        
        <div class="test-section">
            <h3>2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>
            <button onclick="setupDatabase()">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
            <div id="setup-response" class="response" style="display: none;"></div>
        </div>
        
        <div class="test-section">
            <h3>3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏ô‡∏π</h3>
            <button onclick="getMenuItems()">‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏ô‡∏π</button>
            <div id="menu-response" class="response" style="display: none;"></div>
        </div>
        
        <div class="test-section">
            <h3>4. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h3>
            <button onclick="addTestMenuItem()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°</button>
            <button onclick="addTestDessert()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏Ç‡∏ô‡∏°</button>
            <button onclick="addTestTopping()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π Topping</button>
            <div id="add-response" class="response" style="display: none;"></div>
        </div>
        
        <div class="test-section">
            <h3>5. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡πÄ‡∏°‡∏ô‡∏π</h3>
            <button onclick="updateTestMenuItem()">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>
            <button onclick="deleteTestMenuItem()">‡∏•‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>
            <div id="update-delete-response" class="response" style="display: none;"></div>
        </div>
        
        <div class="test-section">
            <h3>6. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏î‡∏™‡∏≠‡∏ö</h3>
            <button onclick="createTestOrder()">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>
            <div id="order-response" class="response" style="display: none;"></div>
        </div>
    </div>

    <script>
        // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î API URL - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô let ‡πÅ‡∏ó‡∏ô const ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÑ‡∏î‡πâ
        let API_URL = 'https://script.google.com/macros/s/AKfycbwPY7wJe7W-VwiguoROToQk_KPSGFdISvb-kbV_DCcEp2tXB9laW0CJrCRpA2lEa4yeMg/exec';
        
        function updateAPIUrl() {
            const newUrl = document.getElementById('api-url').value;
            API_URL = newUrl;
            console.log('API URL updated to:', API_URL);
            alert('URL ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß: ' + API_URL);
        }
        
        function testDirectURL() {
            const testUrls = [
                `${API_URL}?action=test`,
                `${API_URL}?action=test&callback=testCallback`,
                `${API_URL}?action=getMenuItems`,
                `${API_URL}?action=getMenuItems&callback=testCallback`
            ];
            
            console.log('Testing multiple URLs:');
            testUrls.forEach((url, index) => {
                console.log(`URL ${index + 1}:`, url);
                window.open(url, `_blank_${index}`);
            });
        }
        
        async function makeRequest(url, options = {}) {
            try {
                console.log('makeRequest called with URL:', url);
                console.log('makeRequest options:', options);
                
                // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö GET requests ‡πÉ‡∏ä‡πâ JSONP ‡πÄ‡∏™‡∏°‡∏≠ (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ fetch ‡πÄ‡∏•‡∏¢)
                if (!options.method || options.method === 'GET') {
                    console.log('Using JSONP for GET request');
                    try {
                        const result = await makeJSONPRequest(url);
                        console.log('JSONP success:', result);
                        return result;
                    } catch (jsonpError) {
                        console.error('JSONP failed:', jsonpError);
                        // ‡∏ñ‡πâ‡∏≤ JSONP ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß ‡πÉ‡∏´‡πâ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏ó‡∏î‡∏™‡∏≠‡∏ö URL ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
                        return {
                            success: false,
                            message: 'JSONP failed: ' + jsonpError.message + '. Try opening the URL directly.',
                            data: null
                        };
                    }
                }
                
                // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö POST requests ‡πÉ‡∏ä‡πâ fetch ‡∏õ‡∏Å‡∏ï‡∏¥
                console.log('Using fetch for POST request');
                const response = await fetch(url, {
                    ...options,
                    headers: {
                        'Content-Type': 'application/json',
                        ...options.headers
                    }
                });
                
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('makeRequest error:', error);
                return {
                    success: false,
                    message: 'Network error: ' + error.message,
                    data: null
                };
            }
        }
        
        function makeJSONPRequest(url) {
            return new Promise((resolve, reject) => {
                console.log('Making JSONP request to:', url);
                
                // ‡πÄ‡∏û‡∏¥‡πà‡∏° callback parameter ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö JSONP
                const callbackName = 'jsonp_callback_' + Math.round(100000 * Math.random());
                const separator = url.indexOf('?') !== -1 ? '&' : '?';
                const finalUrl = url + separator + 'callback=' + callbackName;
                
                console.log('Final JSONP URL:', finalUrl);
                console.log('Callback function name:', callbackName);
                
                // ‡∏™‡∏£‡πâ‡∏≤‡∏á script tag
                const script = document.createElement('script');
                script.src = finalUrl;
                
                // ‡∏™‡∏£‡πâ‡∏≤‡∏á callback function
                window[callbackName] = function(data) {
                    console.log('JSONP callback received data:', data);
                    clearTimeout(timeoutId);
                    resolve(data);
                    try {
                        document.head.removeChild(script);
                    } catch (e) {
                        console.log('Error removing script:', e);
                    }
                    delete window[callbackName];
                };
                
                // Handle errors
                script.onerror = function() {
                    console.error('JSONP script error for URL:', finalUrl);
                    clearTimeout(timeoutId);
                    reject(new Error('JSONP request failed'));
                    try {
                        document.head.removeChild(script);
                    } catch (e) {
                        console.log('Error removing script:', e);
                    }
                    delete window[callbackName];
                };
                
                // Handle load
                script.onload = function() {
                    console.log('JSONP script loaded successfully');
                };
                
                // Add script to head
                document.head.appendChild(script);
                console.log('JSONP script added to head');
                
                // Fallback: ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ response ‡πÉ‡∏ô 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
                const timeoutId = setTimeout(() => {
                    if (window[callbackName]) {
                        console.error('JSONP request timeout for URL:', finalUrl);
                        reject(new Error('JSONP request timeout'));
                        try {
                            document.head.removeChild(script);
                        } catch (e) {
                            console.log('Error removing script:', e);
                        }
                        delete window[callbackName];
                    }
                }, 10000);
            });
        }
        
        function displayResponse(elementId, data) {
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            element.className = 'response ' + (data.success ? 'success' : 'error');
            element.textContent = JSON.stringify(data, null, 2);
        }
        
        async function testAPI() {
            console.log('Testing API...');
            const fullUrl = `${API_URL}?action=test`;
            console.log('Full URL:', fullUrl);
            const data = await makeRequest(fullUrl);
            displayResponse('test-response', data);
        }
        
        async function setupDatabase() {
            console.log('Setting up database...');
            const data = await makeRequest(`${API_URL}?action=setup`);
            displayResponse('setup-response', data);
        }
        
        async function getMenuItems() {
            console.log('Getting menu items...');
            const data = await makeRequest(`${API_URL}?action=getMenuItems`);
            displayResponse('menu-response', data);
        }
        
        async function addTestMenuItem() {
            console.log('Adding test menu item...');
            
            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô GET request ‡πÇ‡∏î‡∏¢‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô URL parameters
            const params = new URLSearchParams({
                action: 'createMenuItem',
                name: '‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢‡πÄ‡∏¢‡πá‡∏ô',
                price: '45',
                cost: '20',
                category: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°',
                description: '‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢‡πÄ‡∏¢‡πá‡∏ô‡∏´‡∏≠‡∏°‡∏´‡∏ß‡∏≤‡∏ô ‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á',
                image: 'https://example.com/cha-thai-yen.jpg',
                available: 'true'
            });
            
            const fullUrl = `${API_URL}?${params.toString()}`;
            console.log('Full URL for addTestMenuItem:', fullUrl);
            
            const data = await makeRequest(fullUrl);
            displayResponse('add-response', data);
        }
        
        async function addTestDessert() {
            console.log('Adding test dessert...');
            
            const params = new URLSearchParams({
                action: 'createMenuItem',
                name: '‡∏Ç‡∏ô‡∏°‡πÄ‡∏Ñ‡πâ‡∏Å‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï',
                price: '85',
                cost: '40',
                category: '‡∏Ç‡∏ô‡∏°',
                description: '‡πÄ‡∏Ñ‡πâ‡∏Å‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï‡∏ô‡∏∏‡πà‡∏°‡∏´‡∏ß‡∏≤‡∏ô ‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÑ‡∏≠‡∏®‡∏Å‡∏£‡∏µ‡∏°‡∏ß‡∏≤‡∏ô‡∏¥‡∏•‡∏•‡∏≤',
                image: 'https://example.com/chocolate-cake.jpg',
                available: 'true'
            });
            
            const fullUrl = `${API_URL}?${params.toString()}`;
            console.log('Full URL for addTestDessert:', fullUrl);
            
            const data = await makeRequest(fullUrl);
            displayResponse('add-response', data);
        }
        
        async function addTestTopping() {
            console.log('Adding test topping...');
            
            const params = new URLSearchParams({
                action: 'createMenuItem',
                name: '‡πÑ‡∏Ç‡πà‡∏î‡∏≤‡∏ß',
                price: '15',
                cost: '8',
                category: 'Topping',
                description: '‡πÑ‡∏Ç‡πà‡∏î‡∏≤‡∏ß‡∏™‡∏î‡πÉ‡∏´‡∏°‡πà ‡∏ó‡∏≠‡∏î‡∏™‡∏∏‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏µ',
                image: 'https://example.com/fried-egg.jpg',
                available: 'true'
            });
            
            const fullUrl = `${API_URL}?${params.toString()}`;
            console.log('Full URL for addTestTopping:', fullUrl);
            
            const data = await makeRequest(fullUrl);
            displayResponse('add-response', data);
        }
        
        async function createTestOrder() {
            console.log('Creating test order...');
            
            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô GET request ‡πÇ‡∏î‡∏¢‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πà‡∏≤‡∏ô URL parameters
            const params = new URLSearchParams({
                action: 'createOrder',
                // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• order ‡πÄ‡∏õ‡πá‡∏ô JSON string
                orderData: JSON.stringify({
                    items: [
                        {
                            menuItemId: 'menu-test-001',
                            menuItemName: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î‡∏Å‡∏∏‡πâ‡∏á',
                            quantity: 2,
                            price: 120
                        },
                        {
                            menuItemId: 'menu-test-002',
                            menuItemName: '‡∏ï‡πâ‡∏°‡∏¢‡∏≥‡∏Å‡∏∏‡πâ‡∏á',
                            quantity: 1,
                            price: 150
                        }
                    ],
                    discount: 0,
                    status: 'pending'
                })
            });
            
            const fullUrl = `${API_URL}?${params.toString()}`;
            console.log('Full URL for createTestOrder:', fullUrl);
            
            const data = await makeRequest(fullUrl);
            displayResponse('order-response', data);
        }
        
        async function updateTestMenuItem() {
            console.log('Updating test menu item...');
            
            // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡πà‡∏≠‡∏ô
            try {
                const menuResponse = await makeRequest(`${API_URL}?action=getMenuItems`);
                if (!menuResponse.success || !menuResponse.data || menuResponse.data.length === 0) {
                    displayResponse('update-delete-response', {
                        success: false,
                        message: '‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏Å‡πà‡∏≠‡∏ô'
                    });
                    return;
                }
                
                // ‡πÉ‡∏ä‡πâ ID ‡∏Ç‡∏≠‡∏á‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏û‡∏ö
                const firstMenuItem = menuResponse.data[0];
                const menuId = firstMenuItem.id;
                
                console.log('Found menu item ID:', menuId);
                
                const params = new URLSearchParams({
                    action: 'updateMenuItem',
                    id: menuId,
                    name: firstMenuItem.name + ' (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)',
                    price: (parseFloat(firstMenuItem.price) + 5).toString(),
                    cost: firstMenuItem.cost?.toString() || '0',
                    category: firstMenuItem.category,
                    description: (firstMenuItem.description || '') + ' - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏°‡∏∑‡πà‡∏≠ ' + new Date().toLocaleString('th-TH'),
                    image: firstMenuItem.image || '',
                    available: 'true'
                });
                
                const fullUrl = `${API_URL}?${params.toString()}`;
                console.log('Full URL for updateTestMenuItem:', fullUrl);
                
                const data = await makeRequest(fullUrl);
                displayResponse('update-delete-response', data);
            } catch (error) {
                displayResponse('update-delete-response', {
                    success: false,
                    message: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + error.message
                });
            }
        }
        
        async function deleteTestMenuItem() {
            console.log('Deleting test menu item...');
            
            // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡πà‡∏≠‡∏ô
            try {
                const menuResponse = await makeRequest(`${API_URL}?action=getMenuItems`);
                if (!menuResponse.success || !menuResponse.data || menuResponse.data.length === 0) {
                    displayResponse('update-delete-response', {
                        success: false,
                        message: '‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏Å‡πà‡∏≠‡∏ô'
                    });
                    return;
                }
                
                // ‡πÉ‡∏ä‡πâ ID ‡∏Ç‡∏≠‡∏á‡πÄ‡∏°‡∏ô‡∏π‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏•‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏£‡∏Å)
                const lastMenuItem = menuResponse.data[menuResponse.data.length - 1];
                const menuId = lastMenuItem.id;
                
                console.log('Found menu item ID to delete:', menuId);
                
                // ‡πÅ‡∏™‡∏î‡∏á confirm
                if (!confirm(`‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÄ‡∏°‡∏ô‡∏π "${lastMenuItem.name}" ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?`)) {
                    displayResponse('update-delete-response', {
                        success: false,
                        message: '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡∏ö'
                    });
                    return;
                }
                
                const params = new URLSearchParams({
                    action: 'deleteMenuItem',
                    id: menuId
                });
                
                const fullUrl = `${API_URL}?${params.toString()}`;
                console.log('Full URL for deleteTestMenuItem:', fullUrl);
                
                const data = await makeRequest(fullUrl);
                displayResponse('update-delete-response', data);
            } catch (error) {
                displayResponse('update-delete-response', {
                    success: false,
                    message: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + error.message
                });
            }
        }
        
        // ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
        window.addEventListener('load', function() {
            console.log('Page loaded. API URL:', API_URL);
        });
    </script>
</body>
</html>
